## 🍷 0 용어 정리

---

#### 브라우저에 url 입력하면 발생하는일을 순서대로 대답해보자

---

> ### 📄 1. REST

##### ① HTTP 프로토콜을 통해 "자원을 URL로 해석하고", "HTTP 메서드로 자원의 행위를 결정한다."
* **자원** : 사용자 정보, 게시물, 댓글 등이 자원이 될 수 있습니다.
* **HTTP 메서드** : (GET, POST, PUT, DELETE 등)
  * HTTP 메서드 Idempotence : 한번 실행한거랑 두번이상 실행한거랑 결과가 같다고
    1. POST는 상태가 변할 수 있으므로 Idempotence하지 않고,
    2. PUT, GET, DELETE는 한번 호출하나 여러번 호출하나 결과가 같으므로 Idempotence하다

##### ② 그 URL의 패턴 매칭으로 의미있는 동작을 수행하려고 하는 규칙임
* **자원의 식별(URI)**: `/users/1`, `/articles/10/comments` 등
* **자원 교환의 형식**: JSON, XML 등으로 요청/응답
* **메서드를 통한 행위 명시(Uniform Interface)**
  `GET(조회)`, `POST(생성)`, `PUT/PATCH(수정)`, `DELETE(삭제)` 등

##### ③ HTTP 이므로 당연히 비 연결형 상태 비저장 `클라이언트 서버의 request/response (요청/응답)` 통신을 사용한다.
  * REST Server: API를 제공하고 비즈니스 로직 처리 및 저장을 책임진다.
  * Client(브라우저):  사용자 인증이나 context(세션, 로그인 정보) 등을 직접 관리하고 책임진다.

##### ④ 이러한 RESTful API를 생성하는 방법은 "API Gateway"를 이용하면 된다.

---

> ### 📄  2. 라우팅

##### ① HTTP 요청(메서드 + URL 등)에 대해 서버가 어떤 코드를 실행할지 결정하는 과정

* “경로 + 메서드 → 서버 처리 로직 매핑”
*어떤 요청은 A, 어떤 요청은 B 각각의 요청을 분배하는것이 바로 라우팅.*
  ```js
  app._METHOD_(PATH : 경로, HANDLER : _실행하고싶은 함수 콜백방식으로 작동_);
  // 즉, 
  //     경로 A에 대해서는
  //         HANDER_A를 실행하도록,
  //     경로 B에 대해서는
  //         HANDER_B를 실행하도록
  // 할 수 있다.
  ```

* 즉 URL에 HTTP 메서드가 `Get`, `Post`라도 서로 다른 URL 경로 주소별로 다른 행동을 하게 된다.
  * URL 패턴에 대해 HTTP 메서드가 매핑되어 있고.
  * 그 URL 경로를 `/` 기준으로 파싱해
    * 핸들러(Controller, Action 등) 매핑된 함수를 호출하는 과정을 말함
 
##### ② REST API의 대표적인 서비스 예시
1. CRUD REST API With PostgreSQL


---

> ### 📄  3. 서버 이중화

#### 서버를 두개 이상 둬서 안전하고 효율적인 서비스를 유지하도록 한다.

#### 1). 서버 이중화 목적
##### ① 고 가용성 보장 (HA)
* 서버 장애가 발생하더라도 대체 서버를 통해 서비스가 중단 없이 운영됩니다.
##### ② 장애 복구
##### ③ 데이터 손실 방지
##### ④ 부하 분산
* 하나의 서버에 집중된 트래픽을 여러 서버로 분산 처리하여 성능 저하를 방지합니다.
* 혹시 서버리스 또한 트래픽 분산이 가능할까?

#### 2). 이중화 기술
##### ① Heartbeat
* 두 서버 이상의 서버간 주기적으로 신호를 주고 받아 서로의 상태를 확인
##### ② DRBD (Distributed Replicated Block Device)
* 데이터를 실시간으로 복제하여 데이터 손실없이 복구하는 기술
##### ③ 로드 밸런서
* 클라이언트 요청을 여러 서버로 분배하여 트래픽 부하를 줄이는 장치/소프트웨어
* AWS Elastic Load Balancer, NGINX, HAProxy
##### ④ 클러스터링
* 서버 하나를 논리적 그룹으로 묶어 동작하게 하여, 장애 복구와 부하 분산을 동시에 수행.
* Kubernetes, Hadoop, Elasticsearch


---

> ### 📄  4. 가상 컴퓨팅 & 클라우드 인스턴스

**Amazon E2** & **Amazon E2 Containers Services** & **ServerLess**

1. 위 AWS Amazon E2 서비스로 가상 서버를 대여할 수 있다.
2. 특히 Containers 같은 경우는 개발자가 미리 세팅한 VM 환경을 묶어서 대여한 환경에 설치할 수 있도록 한다.
3. 그리고 ServerLess같은 경우는 코드만 올려놓아도 된다. *싱글 스레드지만*.
4. 클라우드 컴퓨팅에서 인스턴스 : 클라우드를 통해 제공되는 서버 리스스를 말한다.
 인스턴스란 형태로 컴퓨팅 리소스에 대한 가상 엑세스를 제공한다.
   * 기존 물리적인 하드웨어 서버 대비 유용한 점.
     1. 확장성 (스케일 업/다운) : 예상치 못한 사용자 수에 대한 서버 확장이 유용하다.
        특정 트레픽 임계를 넘어가 시간이 느려질 것 같으면
        CPU, 메모리, 스토리지, 네트워크 리소스를 인스턴스로 조절하기 유용하다.
     2. 내결함성 : 백업을 위해 중복 인스턴스를 생성해 고 가용적인 서버 구축이 유용하다.

---

### 추가 의문 

```
review & reviewid
comment와 review comment 관계
    review 1 --- 1..* comment
    comment 관련 api 엔드포인트는 : /reviews/:reviewId/comments/:id 

컨트롤러 (MVC 컨트롤러를 말하는건가?)

DB 연동 : ORM

```

* [The RESTful Pokémon API](https://pokeapi.co/#google_vignette)
* [서버 이중화](https://guti-coding.tistory.com/175)